diff -ruN serf-1.3.9-orig/buckets/ssl_buckets.c serf-1.3.9/buckets/ssl_buckets.c
--- serf-1.3.9-orig/buckets/ssl_buckets.c	2016-06-30 17:45:07.000000000 +0200
+++ serf-1.3.9/buckets/ssl_buckets.c	2022-03-20 16:44:17.065478958 +0100
@@ -1326,7 +1326,11 @@
             }
             else {
                 printf("OpenSSL cert error: %d %d %d\n", ERR_GET_LIB(err),
+#ifdef ERR_GET_FUNC
                        ERR_GET_FUNC(err),
+#else
+                       0,
+#endif
                        ERR_GET_REASON(err));
                 PKCS12_free(p12);
                 bio_meth_free(biom);
